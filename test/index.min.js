(function(dependencies, global) {
    var cache = [];

    function require(index) {
        var module = cache[index],
            callback, exports;

        if (module === undefined) {
            callback = dependencies[index];
            exports = {};

            cache[index] = module = {
                exports: exports,
                require: require
            };

            callback.call(exports, require, exports, module, global);
        }

        return module.exports;
    }

    require.resolve = function(path) {
        return path;
    };

    if (typeof(define) === "function" && define.amd) {
        define([], function() {
            return require(0);
        });
    } else if (typeof(module) !== "undefined" && module.exports) {
        module.exports = require(0);
    } else {

        require(0);

    }
}([
    function(require, exports, module, global) {

        var XMLHttpRequestPolyfill = require(1);


        var xhr = new XMLHttpRequestPolyfill();


        xhr.addEventListener("load", function(e) {
            console.log(e, xhr);
        });

        xhr.open("GET", "index.html", true);

        xhr.setRequestHeader("Content-Type", "text/html");

        xhr.send();


    },
    function(require, exports, module, global) {

        var indexOf = require(2),
            extend = require(5),
            isFunction = require(9),
            emptyFunction = require(11),
            environment = require(12);


        var window = environment.window,

            ActiveXObject = window.ActiveXObject,

            XMLHttpRequestPolyfill = (
                window.XMLHttpRequest ||
                (function getRequestType(types) {
                    var i = -1,
                        il = types.length - 1,
                        instance, type;

                    while (i++ < il) {
                        try {
                            type = types[i];
                            instance = type();
                            break;
                        } catch (e) {}
                    }

                    if (!type) {
                        throw new Error("XMLHttpRequest not supported by this browser");
                    }

                    return createXMLHttpRequestFactory(type);
                }([
                    function createActiveObject() {
                        return new ActiveXObject("Msxml2.XMLHTTP");
                    },
                    function createActiveObject() {
                        return new ActiveXObject("Msxml3.XMLHTTP");
                    },
                    function createActiveObject() {
                        return new ActiveXObject("Microsoft.XMLHTTP");
                    }
                ]))
            );

        function createXMLHttpRequestFactory(createXMLHttpRequest) {

            function XMLHttpRequest() {
                var xhr = createXMLHttpRequest();

                function onreadystatechange(e) {
                    var statusCode = +xhr.status,
                        readyState = +xhr.readyState;

                    xhr.dispatchEvent("readystatechange", e);
                    xhr.dispatchEvent("progress", e);

                    if (readyState === 4) {
                        if ((statusCode > 199 && statusCode < 301) || statusCode === 304) {
                            xhr.dispatchEvent("load", e);
                        } else {
                            xhr.dispatchEvent("error", e);
                        }
                    }
                }

                if (isFunction(xhr.attachEvent)) {
                    xhr.attachEvent("onreadystatechange", onreadystatechange, true);
                } else {
                    xhr.onreadystatechange = onreadystatechange;
                }

                xhr.setRequestHeader = emptyFunction;
                xhr.addEventListener = addEventListener;
                xhr.removeEventListener = removeEventListener;
                xhr.dispatchEvent = dispatchEvent;

                return xhr;
            }

            XMLHttpRequest.prototype = XMLHttpRequestPolyfill.prototype;
            XMLHttpRequest.prototype.constructor = XMLHttpRequest;

            return XMLHttpRequest;
        }

        function addEventListener(name, fn) {
            var events = this.__events__ || (this.__events__ = {}),
                eventList = events[name] || (events[name] = []);

            if (isFunction(fn)) {
                eventList[eventList.length] = fn;
            }
        }

        function removeEventListener(name, fn) {
            var events = this.__events__ || (this.__events__ = {}),
                eventList = events[name] || (events[name] = []),
                index = indexOf(eventList, fn);

            if (index !== -1) {
                eventList.splice(index, 1);
            }
        }

        function dispatchEvent(name, e) {
            var events = this.__events__ || (this.__events__ = {}),
                eventList = events[name] || (events[name] = []),
                i = -1,
                length = eventList.length - 1,
                event;

            while (i++ < length) {
                event.call(this, e);
            }
        }

        XMLHttpRequestPolyfill.prototype.nativeSetRequestHeader = XMLHttpRequestPolyfill.prototype.setRequestHeader;

        XMLHttpRequestPolyfill.prototype.setRequestHeader = function setRequestHeader(key, value) {
            (this.__requestHeaders__ || (this.__requestHeaders__ = {}))[key] = value;
            return this.nativeSetRequestHeader(key, value);
        };

        XMLHttpRequestPolyfill.prototype.getRequestHeader = function getRequestHeader(key) {
            return (this.__requestHeaders__ || (this.__requestHeaders__ = {}))[key];
        };

        XMLHttpRequestPolyfill.prototype.getRequestHeaders = function getRequestHeaders() {
            return extend({}, this.__requestHeaders__);
        };


        module.exports = XMLHttpRequestPolyfill;


    },
    function(require, exports, module, global) {

        var isLength = require(3),
            isObjectLike = require(4);


        function arrayIndexOf(array, value, fromIndex) {
            var i = fromIndex - 1,
                il = array.length - 1;

            while (i++ < il) {
                if (array[i] === value) {
                    return i;
                }
            }

            return -1;
        }

        module.exports = function indexOf(array, value, fromIndex) {
            return (isObjectLike(array) && isLength(array.length)) ? arrayIndexOf(array, value, fromIndex || 0) : -1;
        };


    },
    function(require, exports, module, global) {

        var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;


        module.exports = function isLength(obj) {
            return typeof(obj) === "number" && obj > -1 && obj % 1 === 0 && obj <= MAX_SAFE_INTEGER;
        };


    },
    function(require, exports, module, global) {

        module.exports = function isObjectLike(obj) {
            return (obj && typeof(obj) === "object") || false;
        };


    },
    function(require, exports, module, global) {

        var keys = require(6);


        function baseExtend(a, b) {
            var objectKeys = keys(b),
                i = -1,
                il = objectKeys.length - 1,
                key;

            while (i++ < il) {
                key = objectKeys[i];
                a[key] = b[key];
            }
        }

        module.exports = function extend(out) {
            var i = 0,
                il = arguments.length - 1;

            while (i++ < il) {
                baseExtend(out, arguments[i]);
            }

            return out;
        };


    },
    function(require, exports, module, global) {

        var has = require(7),
            isNative = require(8),
            isObject = require(10);


        var nativeKeys = Object.keys;


        if (!isNative(nativeKeys)) {
            nativeKeys = function keys(obj) {
                var localHas = has,
                    out = [],
                    i = 0,
                    key;

                for (key in obj) {
                    if (localHas(obj, key)) {
                        out[i++] = key;
                    }
                }

                return out;
            };
        }

        module.exports = function keys(obj) {
            return nativeKeys(isObject(obj) ? obj : Object(obj));
        };


    },
    function(require, exports, module, global) {

        var hasOwnProp = Object.prototype.hasOwnProperty;


        module.exports = function has(obj, key) {
            return hasOwnProp.call(obj, key);
        };


    },
    function(require, exports, module, global) {

        var isFunction = require(9);


        var reHostCtor = /^\[object .+?Constructor\]$/,

            functionToString = Function.prototype.toString,

            reNative = RegExp("^" +
                functionToString.call(toString)
                .replace(/[.*+?^${}()|[\]\/\\]/g, "\\$&")
                .replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
            ),

            isHostObject = (function() {
                try {
                    String({
                        "toString": 0
                    } + "");
                } catch (e) {
                    return function isHostObject() {
                        return false;
                    };
                }

                return function isHostObject(value) {
                    return !isFunction(value.toString) && typeof(value + "") === "string";
                };
            }());


        module.exports = function isNative(obj) {
            return obj && (
                isFunction(obj) ?
                reNative.test(functionToString.call(obj)) : (
                    typeof(obj) === "object" && (
                        (isHostObject(obj) ? reNative : reHostCtor).test(obj) || false
                    )
                )
            ) || false;
        };


    },
    function(require, exports, module, global) {

        var objectFunction = "[object Function]",
            toString = Object.prototype.toString,
            isFunction;


        if (typeof(/./) === "function" || (typeof(Uint8Array) !== "undefined" && typeof(Uint8Array) !== "function")) {
            isFunction = function isFunction(obj) {
                return toString.call(obj) === objectFunction;
            };
        } else {
            isFunction = function isFunction(obj) {
                return typeof(obj) === "function" || false;
            };
        }


        module.exports = isFunction;


    },
    function(require, exports, module, global) {

        module.exports = function isObject(obj) {
            var type = typeof(obj);
            return type === "function" || (obj && type === "object") || false;
        };


    },
    function(require, exports, module, global) {

        module.exports = emptyFunction;


        function emptyFunction() {}

        function makeEmptyFunction(value) {
            return function() {
                return value;
            };
        }

        emptyFunction.thatReturns = makeEmptyFunction;
        emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
        emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
        emptyFunction.thatReturnsNull = makeEmptyFunction(null);
        emptyFunction.thatReturnsThis = function() {
            return this;
        };
        emptyFunction.thatReturnsArgument = function(argument) {
            return argument;
        };


    },
    function(require, exports, module, global) {

        var environment = module.exports,

            hasWindow = typeof(window) !== "undefined",
            userAgent = hasWindow ? window.navigator.userAgent : "";


        environment.browser = !!(
            hasWindow &&
            typeof(navigator) !== "undefined" &&
            window.document
        );

        environment.node = !environment.browser;

        environment.mobile = environment.browser && /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent.toLowerCase());

        environment.window = (
            hasWindow ? window :
            typeof(global) !== "undefined" ? global :
            typeof(self) !== "undefined" ? self : {}
        );

        environment.pixelRatio = environment.window.devicePixelRatio || 1;

        environment.document = typeof(document) !== "undefined" ? document : {};

        environment.isInWorker = typeof(importScripts) !== "undefined";


    }
], (new Function("return this;"))()));
